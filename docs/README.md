# 미션 - 다리 건너기
## 요구 사항 분석
### 다리
- 다리는 왼쪽에서 오른쪽으로 건너야 한다.
- 다리는 한 칸씩 건널 때마다 위 칸과 아래 칸중 하나를 골라 건너가야한다.
- 다리의 길이는 숫자로 입력받고 생성한다.
    - 생성할 때, Random값을 통해 위 칸과 아래 칸 중 하나만 건널 수 있는 칸으로 고른다.
    - 위 칸을 건널 수 있는 경우는 `U`, 아래 칸을 건널 수 있는 경우는 `D` 값으로 나타낸다.
    - Random값이 `1이면 위 칸(U)`, `0이면 아래 칸(D)`이 된다.
- 다리를 끝까지 건너면 게임을 종료한다.
- 다리를 건너다 실패할 경우, 재시작하거나 종료된다.
    -재시작 할 경우, 기존 다리를 그대로 쓴다.

### 플레이어
- 플레이어는 처음에 다리의 길이를 3이상 20이하의 숫자로 입력해줘야 한다.
- 다리가 생성된 후, 플레이어는 매 라운드마다 이동할 칸은 입력한다.
    - 위 칸이면 `U(위 칸)`
    - 아래 칸이면 `D(아래 칸)`
- 다리를 건너기를 도중에 실패하면 재시작 여부를 입력한다.
    - 재시작이면 `R(재시작)`
    - 종료이면 `Q(종료)`
- 플레이어가 잘못된 값을 입력한 경우, `IllegalArgumentException`을 발생시키고, "[ERROR]"로 시작하는 에러 메시지를 출력 후 그 부분부터 다시 입력 받는다.
    - `Exception`이 아닌 `IllegalArgumentException`, `IllgealStateException`등과 같은 명확한 유형을 처리한다.

### 입력
- 플레이어에게 자동으로 생성할 다리의 길이를 `3이상 20이하의 숫자로` 입력 받는다.
    - 올바른 값이 아니면 예외처리를 한다.

    ```
    12
    ```

    ```
    1    //--- 예외처리
    ```

- 라운드마다 플레이어에게 움직일 칸을 입력 받는다.
    - 위 칸이면 `U(위 칸)`
    - 아래 칸이면 `D(아래 칸)`
    - 올바른 값이 아니면 예외처리를 한다.

    ```
    U
    ```

    ```
    A   //--- 예외처리
    ```

- 플레이어에게 게임 재시작/종료 여부를 입력 받는다.
    - 재시작이면 `R(재시작)`
    - 종료이면 `Q(종료)`
    - 올바른 값이 아니면 예외처리를 한다.

    ```
    Q
    ```

    ```
    T   //--- 예외처리
    ```

### 출력
- 게임 시작 문구

```
다리 건너기 게임을 시작합니다.
```

- 사용자가 이동할 때마다 다리 건너기의 결과를 출력한다.
    - 이동할 수 있는 칸은 `O` 표시
    - 이동할 수 없는 칸은 `X` 표시
    - 선택하지 않은 칸은 `공백` 한칸으로 표시
    - 다리의 시작은 `[`, 끝은 `]` 으로 표시
    - 다리 칸의 구분은 ` | `(앞뒤 공백 포함) `문자열`로 구분
    - 현재까지 건넌 다리까지 모두 출력

```
1. 첫번째 정답
[ O ]
[   ]

2. 두번째 정답
[ O |   ]
[   | O ]

3. 세번째 오답
[ O |   | X ]
[   | O |   ]
```

- 게임 재시작 문구
```
[ O | X ]
[   |   ]

게임을 다시 시도할지 여부를 입력해주세요. (재시도: R, 종료: Q)
```

- 게임 종료 문구
```
최종 게임 결과
[ O |   |   ]
[   | O | O ]

게임 성공 여부: 성공
총 시도한 횟수: 2
```

- 예외 상황시 에러 문구는 "[ERROR]"로 시작해야한다.
```
[ERROR] 다리 길이는 3부터 20 사이의 숫자여야 합니다.
```

## 기능 구현 목록
### 다리 길이 입력
- 다음 문구를 출력한다.

```
다리의 길이를 입력해주세요.
```

- 다리의 길이를 `readLine()`을 통해 입력받는다.

### 다리 길이 예외처리
- 다음과 같은 조건을 지키지 않으면 `IllegalArgumentException`예외를 발생시켜 "[ERROR]"로 시작하는 메시지를 출력한다.
    - 널 혹은 공백이 아니다.

    ```
    [ERROR] 아무것도 입력하지 않았습니다. 다시 입력해주세요.
    ```

    - 숫자여야 한다.

    ```
    [ERROR] 숫자를 입력해 주세요.
    ```

    - 3 이상 20이하의 숫자이다.

    ```
    [ERROR] 다리 길이는 3부터 20 사이의 숫자여야 합니다.
    ```

- 메시지를 출력한 후, 다시 입력을 받는다.

### 이동할 칸 입력
- 다음 문구를 출력한다.

```
이동할 칸을 선택해주세요. (위: U, 아래: D)
```

- 이동할 칸은 `readLine()`을 통해 입력받는다.

### 움직일 칸 예외처리
- 다음과 같은 조건을 지키지 않으면 `IllegalArgumentException`예외를 발생시켜 "[ERROR]"로 시작하는 메시지를 출력한다.
    - 널 혹은 공백이 아니다.

    ```
    [ERROR] 아무것도 입력하지 않았습니다. 다시 입력해주세요.
    ```

    - `U` 또는 `D`만을 입력받는다.

    ```
    [ERROR] U 또는 D 를 입력해주세요.
    ```

### 재시작 여부 입력
- 다음 문구를 출력한다.

```
게임을 다시 시도할지 여부를 입력해주세요. (재시도: R, 종료: Q)
```

- 재시작 여부는 `readLine()`을 통해 입력받는다.

### 움직일 칸 예외처리
- 다음과 같은 조건을 지키지 않으면 `IllegalArgumentException`예외를 발생시켜 "[ERROR]"로 시작하는 메시지를 출력한다.
    - 널 혹은 공백이 아니다.

    ```
    [ERROR] 아무것도 입력하지 않았습니다. 다시 입력해주세요.
    ```

    - `R` 또는 `Q`만을 입력받는다.

    ```
    [ERROR] R 또는 Q 를 입력해주세요.
    ```

### 현재 다리 상황 출력
- 플레이어가 움직이면 호출된다.
- 전체가 현재까지의 다리 상황을 출력한다.
    - 이동할 수 있는 칸은 `O` 표시
    - 이동할 수 없는 칸은 `X` 표시
    - 선택하지 않은 칸은 `공백` 한칸으로 표시
    - 다리의 시작은 `[`, 끝은 `]` 으로 표시
    - 다리 칸의 구분은 ` | `(앞뒤 공백 포함) `문자열`로 구분
    - 현재까지 건넌 다리까지 모두 출력

```
[ O |   |   | X ]
[   | O | O |   ]
```

### 최종 결과 출력
- 게임이 종료될 경우 호출된다.
- 다음과 같은 메시지를 출력한다.

    ```
    최종 게임 결과
    ```
- `현재 다리 상황 출력`을 이용해 현재 다리 상황을 출력한다.
- `게임 성공 여부`와 `총 시도한 횟수`를 출력한다.
    - 게임 성공 여부는 `성공` 혹은 `실패` 를 덧붙여 출력한다.

    ```
    게임 성공 여부: 성공
    총 시도한 횟수: 2
    ```

### 다리 생성하기
- `다리 길이 입력`을 통해 다리의 길이값을 받아온다.
- 다리의 길이 만큼 리스트를 생성한다.
- 리스트의 앞부터 `BridgeNumberGenerator`를 이용해 `U` 또는 `D` 을 넣는다.
- 최종적으로 만들어진 다리를 저장한다.

### 다리 건너기
- `이동할 칸 입력`을 통해 이동할 칸을 받아온다.
- 다리 건너기가 성공했는지 실패했는지 계산한다.
- `현재 다리 상황 출력`으로 건너기의 결과를 보여준다.
- 건너기가 `성공`하면 다음 건너기를 시작한다.
    - 만일, 모두 건넜을 경우, `최종 결과 출력`을 출력하고 종료한다.
        - 게임 성공 여분느 `성공`이다.
- 건너기가 `실패`하면 `재시작`을 호출한다.


### 재시작
- `재시작 여부 입력`으로 재시작 여부 값을 받아온다.
- `재시작`이면 다음과 같이 진행한다.
    - 시도 횟수를 `1` 올린다.
    - 처음에 만든 다리는 그대로 유지한다.
    - 다시 처음부터 다리 건너기를 시작한다.
- `종료`이면 `최종 결과 출력`을 출력하고 종료한다.
    - 게임 성공 여부는 `실패`이다.